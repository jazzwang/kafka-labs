## 實作一

以下可以在 Google Cloud Platform 的 Cloud Shell 中執行

### 使用 Docker 啟動單機版 Kafka Broker

* 複製 Github Repo
```
~$ git clone https://github.com/jazzwang/kafka-labs
```
* 啟動Kafka Broker 單機版
```
~$ cd kafka-labs
~/kafka-labs$ sbin/init.sh
~/kafka-labs$ bin/lab1.sh start
```
* 程式碼解說

### 使用 Kafkacat 當作 Producer 與 Consumer

* 列出 Kafka Broker 資訊
```
~/kafka-labs$ kafkacat -L -b localhost
```

* 傳送資料("abcd")給 Kafka Broker 名為 「${USER} 變數內容」 的 Topic
```
~/kafka-labs$ echo "abcd" | kafkacat -P -b localhost -t $USER
```

* 從 Kafka Broker 名為 「${USER} 變數內容」 的 Topic 接收資料
```
~/kafka-labs$ kafkacat -C -b localhost -t $USER
```

* 壓力測試：有兩個 Producer 的狀態
```
~/kafka-labs$ for ((i=1;i<=10000;i++)); do echo $i; echo $i | kafkacat -b localhost -t $USER; done
~/kafka-labs$ cat /var/log/syslog | kafkacat -b localhost -t $USER
```

--------------------
本文件最後更新於：<script>document.write(document.lastModified);</script>
